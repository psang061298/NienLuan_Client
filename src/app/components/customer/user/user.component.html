
       

<div class="header-empty-space"></div>

<div class="grey-background">
    <div class="empty-space col-xs-b40 col-sm-b80"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-md-push-3 tab-content">
                <div id="info" class="container arrows-align-top fade in tab-pane active">
                        <div class="h4 title">Your Profile</div>
                        <div class="empty-space col-xs-b20"></div>
                    <div class="wrapper">
                        <div class="product-shortcode style-3">
                            <form [formGroup]="formdemo" (ngSubmit)="onSubmit()">
                                <div class="simple-article size-5 grey col-xs-b20">
                                        <div class="image-upload">
                                                <label for="file-input">
                                                  <ng-container *ngIf="user.avatar; else notfound">
                                                    <img
                                                      class="img_category"
                                                      [src]="user.avatar"
                                                      alt="not found"
                                                    />
                                                  </ng-container>
                                                  <ng-template #notfound>
                                                    <img
                                                      src="https://res.cloudinary.com/dyjkyzllt/image/upload/v1571907729/rdi9lrbatly42bsmtnmw.png"
                                                      class="img_category"
                                                    />
                                                  </ng-template>
                                                </label>
                                                <input id="file-input" type="file" (change)="editImage($event)" />
                                              </div>
                                </div>

                                <div style="border: 1px #eee solid; padding: 15px;">
                                        <!-- <span class="label label-danger">Email không hợp lệ</span> -->
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-3 col-form-label">
                                                    <div class="empty-space col-xs-b10"></div>
                                                Name
                                            </label>
                                            <div class="col-sm-8">
                                                <input class="form-control simple-input " type="text" placeholder="Name" formControlName="name">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-3 col-form-label">
                                                    <div class="empty-space col-xs-b10"></div>
                                                E-mail
                                            </label>
                                            <div class="col-sm-8">
                                                <input class="form-control simple-input " type="text" placeholder="Email" formControlName="email" disabled>
                                            </div>
                                        </div>
                                        
                                        
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-3 col-form-label">
                                                    <div class="empty-space col-xs-b5"></div>
                                                Gender
                                            </label>
                                            <div class="col-sm-8">
                                                    <div class="empty-space col-xs-b10"></div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row">
                                                    <div class="col-sm-3">
                                                        <label class="checkbox-entry radio">
                                                            <input type="radio" formControlName="gender" value="male"/><span>Male</span>
                                                        </label>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="checkbox-entry radio">
                                                            <input type="radio" formControlName="gender" value="female"/><span>Female</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="empty-space col-xs-b20"></div>
                                        <button type="submit" style="border : none" class="button size-2 style-3" href="#">
                                                <span class="button-wrapper">
                                                    <span class="icon"><img src="../../../../assets/customer/img/icon-4.png" alt=""></span>
                                                    <span class="text">Update</span>
                                                </span>
                                            </button>
                                    </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div id="changepass" class="container arrows-align-top fade in tab-pane">
                        <div class="h4 title">Change Passowrd</div>
                        <div class="empty-space col-xs-b20"></div>
                    <div class="wrapper">
                        <div class="product-shortcode style-3">
                            <form>
                                <div style="border: 1px #eee solid; padding: 15px;">
                                        <!-- <span class="label label-danger">Email không hợp lệ</span> -->
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-3 col-form-label">
                                                    <div class="empty-space col-xs-b10"></div>
                                                Old Password
                                            </label>
                                            <div class="col-sm-8">
                                                <input class="form-control simple-input " type="password" placeholder="Old Passowrd" [(ngModel)]="oldPass" [ngModelOptions]="{standalone: true}">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-3 col-form-label">
                                                    <div class="empty-space col-xs-b10"></div>
                                                New Password
                                            </label>
                                            <div class="col-sm-8">
                                                <input class="form-control simple-input " type="password" placeholder="New Passowrd" [(ngModel)]="newPass" [ngModelOptions]="{standalone: true}">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                                <label for="name" class="col-sm-3 col-form-label">
                                                        <div class="empty-space col-xs-b10"></div>
                                                    Confirm Password
                                                </label>
                                                <div class="col-sm-8">
                                                    <input class="form-control simple-input " type="password" placeholder="Confirm Passowrd" [(ngModel)]="confirmPass" [ngModelOptions]="{standalone: true}">
                                                </div>
                                            </div>
                                        <div class="empty-space col-xs-b20"></div>
                                        <button type="submit" style="border : none" class="button size-2 style-3" (click)="changePass()">
                                                <span class="button-wrapper">
                                                    <span class="icon"><img src="../../../../assets/customer/img/icon-4.png" alt=""></span>
                                                    <span class="text">Update</span>
                                                </span>
                                            </button>
                                    </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div id="order" class="container arrows-align-top fade in tab-pane">
                    <div class="h4 title">Your Orders</div>
                        <div class="empty-space col-xs-b20"></div>
                    <div class="wrapper">
                        <div class="style-3" *ngFor="let item of order_History">
                            <div class="product-shortcode style-3" >
                                <div class="order-header">
                                        <div class="h6 title text-left">ID : {{ item.id }}</div>
                                        <div class="h6 title text-right">Total Price : {{ item.total_price | number : '1.0-3' }} đ</div>
                                </div>
                                <div class="empty-space col-xs-b5"></div>
                                <div class="order-header">
                                    
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <div class="h6 title text-left">Bill Address :</div>
                                        <p class="text-left add">{{ item.bill_address.fullname}}</p>
                                        <p class="text-left add">{{ item.bill_address.address }}</p>
                                        <p class="text-left add">{{ item.bill_address.phone }}</p>
                                    </div>
                                    
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <div class="h6 title text-right">Shipping Address :</div>
                                        <p class="text-right add">{{ item.shipping_address.fullname}}</p>
                                        <p class="text-right add">{{ item.shipping_address.address }}</p>
                                        <p class="text-right add">{{ item.shipping_address.phone }}</p>
                                    </div>
                                </div>
                                <hr>
                                <table class="cart-table">
                                    <tbody>
                                        <tr *ngFor="let item1 of item.products">
                                            <td data-title=" ">
                                                <a class="cart-entry-thumbnail" href="#"><img [src]='item1.product.images[0]' alt=""></a>
                                            </td>
                                            <td data-title=" "><h6 class="h6"><a href="#">{{item1.product.name}}</a></h6></td>
                                            <td data-title="Price: ">{{item1.final_price | number :'1.0-3'}} đ</td>
                                            <td data-title="Quantity: ">{{item1.quantity}}</td>
                                            <td data-title="Total:">{{ item1.quantity * item1.final_price | number : '1.0-3' }} đ</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="empty-space col-xs-b10"></div>
                                <div class="h4 title">{{item.status}}</div>
                                
                                <button *ngIf="item.status == 'waiting'" style="border : none" class="button size-2 style-2" (click)="changeStatus(item.id)">
                                    <span class="button-wrapper">
                                        <span class="icon"><img src="../../../../assets/customer/img/icon-4.png" alt=""></span>
                                        <span class="text">Cancel</span>
                                    </span>
                                </button>
                            </div>
                            <div class="empty-space col-xs-b10"></div>
                        </div>
                    </div>
                </div>

                <div id="address" class="container arrows-align-top fade in tab-pane">
                        <div style="display: flex; justify-content: space-between;">
                            <div class="title h4">
                                    Địa chỉ của bạn
                            </div> 
                            <button class="btn_custom-transition btn_custom btn_custom-outline-danger right" (click)="createNewAddForm()">New Address</button>

                        </div>
                            <div class="empty-space col-xs-b20"></div>
                        <div class="wrapper" >
                                <div class="product-shortcode style-3 slide-in-elliptic-top-fwd" [ngStyle]="{'display':showFormAddress ? 'block' : 'none' }">
                                        <div class="container">
                                            
                                            <form [formGroup]="form_add" (ngSubmit)="createNewAdress()">
                                                <table class="cart-table">
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>
                                                                <input type="text" class="reciver_name" placeholder="Name" formControlName="name">
                                                            </th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="tdAddress"><h6 class="h5"><input type="text" class="reciver_phone" placeholder="Phone" formControlName="phone"></h6></td>
                                                            <td class="tdAddress" colspan="2">
                                                                <h6 class="h5">
                                                                    <input type="text" class="reciver_phone" placeholder="address" formControlName="address" #agmSearch name="address" (change)="address()">
                                                                </h6>
                                                            </td>
                                                        </tr>
                                                    </tbody>

                                                </table>
                                                <div class="empty-space col-xs-b15"></div>

                                                <button type="submit" class="btn_custom-transition btn_custom btn_custom-outline-primary">Submit</button>

                                            </form>
                                        </div>
                                    </div>
                                    <div class="empty-space col-xs-b20" *ngIf="showFormAddress"></div>

                            <div class="style-3">
                                <div class="product-shortcode style-3">
                                    <div class="container">
                                            <table class="cart-table" *ngFor="let item of user.addresses">
                                                <thead>
                                                    <tr>
                                                        <th class="reciver_name" colspan="2">{{ item.fullname }}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="tdAddress"><h6 class="h5">{{item.phone}}</h6></td>
                                                        <td class="tdAddress"><h6 class="h6">{{item.address}}</h6></td>
                                                        <!-- <td data-title="Color: "><div class="cart-color" style="background: #eee;"></div></td>
                                                        <td data-title="Total:">$310.00</td>
                                                        <td data-title="">
                                                            <div class="button-close"></div>
                                                        </td> -->
                                                    </tr>
                                                </tbody>
                                            <div class="empty-space col-xs-b35 col-md-b20"></div>

                                            </table>
                                        </div>
                                </div>
                                <div class="empty-space col-xs-b10"></div>
                            </div>
                        </div>
                </div>

                
            </div>

            <div class="col-md-3 col-md-pull-9">
                <div class="h4 col-xs-b25">Account Management</div>
                <ul class="categories-menu nav">
                    <li class="nav-item active" >
                        <a data-toggle="tab" role="tab" class="nav-link active" href="#info" >Your Info</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" role="tab" class="nav-link" href="#changepass">Change Password</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" role="tab" class="nav-link" href="#order">Your Orders</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" role="tab" class="nav-link" href="#address" >Addresses</a>
                    </li>
                </ul>

                <div class="empty-space col-xs-b25 col-sm-b50"></div>
            </div>
        </div>
    </div>
    <div class="empty-space col-xs-b50"></div>
</div>


